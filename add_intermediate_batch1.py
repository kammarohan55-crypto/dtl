"""
INTERMEDIATE BATCH 1: First 4 modules
Generates: matrices, limits_continuity, differentiation, integration
"""
import json

with open('mathematics_curriculum.json', 'r', encoding='utf-8') as f:
    curriculum = json.load(f)

intermediate_batch1 = [
    {
        "module_id": "matrices",
        "module_name": "Matrices and Determinants",
        "level": "intermediate",
        "learning_objectives": ["Understand matrix notation and perform matrix operations", "Calculate determinants and find matrix inverses", "Solve systems of linear equations using matrices", "Apply matrices to transformations and real-world problems"],
        "core_content": {
            "theory": "A matrix is a rectangular array of numbers arranged in rows and columns. Matrices are fundamental tools in linear algebra with applications in computer graphics, engineering, economics, and data science. A matrix with m rows and n columns is called an m by n matrix. We denote matrices with capital letters and enclose elements in brackets. The general m by n matrix A has the form: first row contains elements a11, a12, up to a1n, second row contains a21, a22, up to a2n, continuing to the mth row with am1, am2, up to amn. The element in row i and column j is denoted as aij. For example, the 2 by 3 matrix A equals the matrix with first row 1, 2, 3 and second row 4, 5, 6. Here a11 equals 1, a12 equals 2, a23 equals 6. A square matrix has the same number of rows and columns. A 3 by 3 matrix is square. The main diagonal of a square matrix consists of elements where row equals column: a11, a22, a33, et cetera. An identity matrix I is a square matrix with 1s on the main diagonal and 0s elsewhere. The 3 by 3 identity matrix has first row 1 0 0, second row 0 1 0, third row 0 0 1. A zero matrix has all elements equal to zero. Matrix addition and subtraction require matrices of the same dimensions. To add or subtract matrices, add or subtract corresponding elements. If A and B are both m by n matrices, then A plus B equals the matrix where element ij is aij plus bij. For example, if A has first row 1 2 and second row 3 4, and B has first row 5 6 and second row 7 8, then A plus B has first row 6 8 and second row 10 12. Scalar multiplication multiplies every element of a matrix by a scalar constant. If c is a scalar and A is a matrix, then cA equals the matrix where element ij is c times aij. For example, 3 times the matrix with first row 1 2 and second row 3 4 equals the matrix with first row 3 6 and second row 9 12. Matrix multiplication is more complex. To multiply matrix A times matrix B, the number of columns in A must equal the number of rows in B. If A is m by n and B is n by p, then AB is m by p. The element in row i and column j of AB equals the sum of aik times bkj for k from 1 to n. This is the dot product of row i of A with column j of B. Matrixmultiplication is not commutative: AB generally does not equal BA. For example, multiply 2 by 2 matrix A with first row 1 2 second row 3 4 by 2 by 2 matrix B with first row 5 6 second row 7 8. Element 11 of AB: 1 times 5 plus 2 times 7 equals 19. Element 12: 1 times 6 plus 2 times 8 equals 22. Element 21: 3 times 5 plus 4 times 7 equals 43. Element 22: 3 times 6 plus 4 times 8 equals 50. So AB has first row 19 22 second row 43 50. The determinant is a scalar value computed from a square matrix. For a 2 by 2 matrix with first row a b second row c d, the determinant equals ad minus bc. For larger matrices, determinants are computed using cofactor expansion. Determinants have important properties: the determinant of the identity matrix equals 1, swapping two rows multiplies the determinant by negative 1, the determinant of a matrix with a zero row is zero. A matrix is invertible if its determinant is nonzero. The inverse of matrix A, denoted A inverse, satisfies A times A inverse equals A inverse times A equals I. For a 2 by 2 matrix with first row a b second row c d and determinant D equals ad minus bc not zero, the inverse equals 1 over D times the matrix with first row d negative b second row negative c a. Matrix inverses are used to solve systems of linear equations. A system like 2x plus 3y equals 8, 4x minus y equals 2 can be written as matrix equation AX equals B where A is coefficient matrix, X is variable column vector, B is constant column vector. If A is invertible, then X equals A inverse times B.",
            "intuition": "Think of matrices as organized tables of data. When you add matrices, you are combining tables element by element. Matrix multiplication is like applying a transformation: each row of the first matrix interacts with each column of the second to produce results. The determinant tells you if a matrix transformation is reversible, like checking if you can undo a geometric transformation. Matrices are the language computers use to perform complex calculations efficiently.",
            "worked_examples": [
                {"problem": "Add matrices A with first row 2 3 second row 1 4 and B with first row 5 1 second row 2 6.", "solution": "Add corresponding elements. First row: 2 plus 5 equals 7, 3 plus 1 equals 4. Second row: 1 plus 2 equals 3, 4 plus 6 equals 10. Result has first row 7 4 second row 3 10."},
                {"problem": "Multiply 2 by 2 matrix A with first row 1 2 second row 3 4 by 2 by 1 column vector with elements 5 and 6.", "solution": "Result is 2 by 1. First element: 1 times 5 plus 2 times 6 equals 17. Second element: 3 times 5 plus 4 times 6 equals 39. Result is column vector with elements 17 and 39."},
                {"problem": "Find determinant of matrix with first row 3 8 second row 4 6.", "solution": "Determinant equals 3 times 6 minus 8 times 4 equals 18 minus 32 equals negative 14."},
                {"problem": "Find inverse of matrix with first row 2 1 second row 5 3.", "solution": "Determinant equals 2 times 3 minus 1 times 5 equals 1. Inverse equals 1 over 1 times matrix with first row 3 negative 1 second row negative 5 2, which is matrix with first row 3 negative 1 second row negative 5 2."}
            ],
            "common_mistakes": ["Trying to add matrices of different dimensions", "Confusing matrix multiplication order, thinking AB equals BA", "Computing determinants incorrectly for matrices larger than 2 by 2", "Attempting to find inverse of singular (determinant zero) matrices", "Forgetting that matrix multiplication requires specific dimension compatibility"],
            "real_world_applications": ["Computer graphics use matrices for 3D transformations and rotations", "Economics employs input-output matrices for economic modeling", "Engineering applies matrices in structural analysis and circuit theory", "Machine learning uses matrices extensively in neural networks", "Cryptography employs matrix operations for encryption algorithms"]
        },
        "exam_orientation": {
            "frequently_asked": ["Perform matrix addition, subtraction, and multiplication", "Calculate determinants of 2 by 2 and 3 by 3 matrices", "Find matrix inverses when they exist", "Solve systems of equations using matrix methods", "Apply properties of determinants and matrices"],
            "tips": ["Check dimensions before performing matrix operations", "Remember row by column pattern for matrix multiplication", "For determinants, use cofactor expansion systematically for larger matrices", "Verify inverse by checking A times A inverse equals I", "Practice visualizing matrix operations to build intuition"]
        },
        "advanced_notes": "Advanced matrix theory includes eigenvalues and eigenvectors crucial for stability analysis, matrix decompositions like LU and QR for numerical methods, singular value decomposition for data analysis, and applications in quantum mechanics and computer vision. Matrix norms measure matrix size and are essential in numerical analysis.",
        "references": ["MIT OpenCourseWare", "NPTEL", "Khan Academy"]
    },
    {
        "module_id": "limits_continuity",
        "module_name": "Limits and Continuity",
        "level": "intermediate",
        "learning_objectives": ["Understand the concept of limits and limit notation", "Calculate limits using algebraic techniques and limit laws", "Identify and evaluate indeterminate forms", "Determine continuity of functions at points and intervals"],
        "core_content": {
            "theory": "The concept of limit is the foundation of calculus. A limit describes the behavior of a function as its input approaches a particular value. Limits allow us to rigorously define instantaneous rates of change (derivatives) and accumulated quantities (integrals). The notation limit as x approaches a of f of x equals L means as x gets arbitrarily close to a (but not necessarily equal to a), the function values f of x get arbitrarily close to L. For example, consider f of x equals x squared. As x approaches 3, f of x approaches 9. We write limit as x approaches 3 of x squared equals 9. Notice we can verify this by substitution since the function is well-behaved at x equals 3. However, limits are most powerful when direct substitution fails. Consider limit as x approaches 2 of the quantity x squared minus 4 divided by the quantity x minus 2. Direct substitution gives 0 over 0, which is undefined. But we can factor: x squared minus 4 equals the quantity x plus 2 times the quantity x minus 2. So the expression becomes the quantity x plus 2 times the quantity x minus 2 divided by the quantity x minus 2. For x not equal to 2, this simplifies to x plus 2. Thus limit as x approaches 2 of the expression equals limit as x approaches 2 of x plus 2 equals 4. This demonstrates that limits concern behavior near a point, not at the point. Limit laws allow us to compute limits of combinations of functions. If limit as x approaches a of f of x equals L and limit as x approaches a of g of x equals M, then: sum rule: limit of f plus g equals L plus M, difference rule: limit of f minus g equals L minus M, product rule: limit of f times g equals L times M, quotient rule: limit of f over g equals L over M provided M not zero, power rule: limit of f to the power n equals L to the power n, constant multiple rule: limit of c times f equals c times L for constant c. For example, find limit as x approaches 4 of 3x squared minus 2x plus 1. Using limit laws: limit of 3x squared equals 3 times limit of x squared equals 3 times 16 equals 48. Limit of 2x equals 2 times 4 equals 8. Limit of constant 1 equals 1. Total: 48 minus 8 plus 1 equals 41. One-sided limits consider approach from one direction. Right-hand limit, limit as x approaches a from the right of f of x, means x approaches a through values greater than a. Left-hand limit, limit as x approaches a from the left, means x approaches a through values less than a. For a limit to exist, both one-sided limits must exist and be equal. Indeterminate forms occur when direct substitution yields expressions like 0 over 0, infinity over infinity, 0 times infinity, infinity minus infinity, 1 to the infinity, 0 to the 0, or infinity to the 0. These require special techniques. For 0 over 0, try factoring and canceling, rationalizing numerators or denominators, or using LHopitals rule (covered in advanced calculus). Limits at infinity describe function behavior as x increases or decreases without bound. Limit as x approaches infinity of 1 over x equals 0 because as x gets larger, 1 over x gets closer to 0. For rational functions, divide numerator and denominator by highest power of x. Limit as x approaches infinity of the quantity 3x squared plus 2x divided by the quantity 5x squared minus x: divide by x squared to get limit of the quantity 3 plus 2 over x all divided by the quantity 5 minus 1 over x. As x approaches infinity, terms with x in denominator approach 0, giving 3 over 5. A function f is continuous at a point a if three conditions hold: f of a is defined, limit as x approaches a of f of x exists, and limit as x approaches a of f of x equals f of a. Intuitively, a function is continuous if you can draw its graph without lifting your pencil. Most elementary functions including polynomials, rational functions (where defined), exponential, logarithmic, and trigonometric functions are continuous on their domains. Discontinuities occur when continuity fails. A removable discontinuity occurs when the limit exists but does not equal the function value, often appearing as a hole in the graph. A jump discontinuity occurs when left and right limits exist but differ. An infinite discontinuity occurs when limits approach infinity. The intermediate value theorem states that if f is continuous on closed interval from a to b and N is any value between f of a and f of b, then there exists c in the interval a to b such that f of c equals N. This guarantees continuous functions take all intermediate values.",
            "intuition": "Think of a limit as predicting where a function is heading, even if it never quite arrives. Imagine driving toward a city: the limit is the city you are approaching, even if you stop short. Continuity means no sudden jumps or breaks, like a smooth road versus one with potholes or gaps. When evaluating limits, you are asking what value the function wants to reach as you get infinitely close to a point.",
            "worked_examples": [
                {"problem": "Find limit as x approaches 5 of the quantity 2x plus 3.", "solution": "This is a polynomial, continuous everywhere. Direct substitution: 2 times 5 plus 3 equals 13. Limit equals 13."},
                {"problem": "Evaluate limit as x approaches 1 of the quantity x squared minus 1 divided by the quantity x minus 1.", "solution": "Direct substitution gives 0 over 0. Factor numerator: x squared minus 1 equals the quantity x plus 1 times the quantity x minus 1. Expression becomes the quantity x plus 1 times the quantity x minus 1 divided by the quantity x minus 1. Cancel for x not 1: x plus 1. Limit as x approaches 1 of x plus 1 equals 2."},
                {"problem": "Find limit as x approaches infinity of the quantity 4x cubed plus 2x divided by the quantity 2x cubed minus 5.", "solution": "Divide numerator and denominator by x cubed: the quantity 4 plus 2 over x squared all divided by the quantity 2 minus 5 over x cubed. As x approaches infinity, 2 over x squared and 5 over x cubed approach 0. Limit equals 4 over 2 equals 2."},
                {"problem": "Determine if f of x equals the quantity x squared minus 9 divided by the quantity x minus 3 for x not 3, and f of 3 equals 6 is continuous at x equals 3.", "solution": "Check three conditions. First, f of 3 equals 6, defined. Second, limit as x approaches 3 of f of x: factor to get the quantity x plus 3 times the quantity x minus 3 divided by the quantity x minus 3 equals x plus 3 for x not 3. Limit equals 6. Third, check if limit equals f of 3: yes, both equal 6. Function is continuous at x equals 3."}
            ],
            "common_mistakes": ["Assuming limit does not exist when getting indeterminate form without trying to simplify", "Confusing limit value with function value at the point", "Incorrectly applying limit laws when limits do not exist", "Forgetting that limits as x approaches infinity require different techniques", "Not checking both one-sided limits when determining if a limit exists"],
            "real_world_applications": ["Physics uses limits to define instantaneous velocity from average velocity", "Economics employs marginal analysis based on limits for optimization", "Engineering applies limits in control theory for system stability", "Computer science uses limits in algorithm complexity analysis", "Biology models population growth using limits in differential equations"]
        },
        "exam_orientation": {
            "frequently_asked": ["Evaluate limits using algebraic manipulation", "Determine limits at infinity for rational functions", "Identify and resolve indeterminate forms", "Test functions for continuity at specific points", "Apply intermediate value theorem to find roots"],
            "tips": ["Always try direct substitution first to check if it works", "For 0 over 0, factor and cancel common terms", "For limits at infinity, divide by highest power of x in denominator", "Check continuity by verifying all three conditions systematically", "Remember that continuity requires the limit to exist and equal the function value"]
        },
        "advanced_notes": "Advanced topics include epsilon-delta formal definition of limits, uniform continuity, LHopitals rule for indeterminate forms, squeeze theorem for bounding limits, limits involving trigonometric functions and special limits like limit as x approaches 0 of sine x over x equals 1, and applications to sequences and series.",
        "references": ["MIT OpenCourseWare", "NPTEL", "Khan Academy"]
    }
]

curriculum["levels"]["intermediate"]["modules"].extend(intermediate_batch1)

with open('mathematics_curriculum.json', 'w', encoding='utf-8') as f:
    json.dump(curriculum, f, indent=4, ensure_ascii=False)

print("âœ“ Added matrices and limits_continuity")
print(f"Progress: {len(curriculum['levels']['intermediate']['modules'])}/8 intermediate modules")
print("Next: differentiation and integration...")
